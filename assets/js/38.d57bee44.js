(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{362:function(s,t,a){"use strict";a.r(t);var e=a(3),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"git-使用教程-中"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#git-使用教程-中"}},[s._v("#")]),s._v(" Git 使用教程（中）")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#git%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B%E4%B8%8B"}},[s._v("Git 使用教程（下）")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#%E5%88%9B%E5%BB%BA%E4%B8%8E%E5%90%88%E5%B9%B6%E5%88%86%E6%94%AF"}},[s._v("创建与合并分支")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%E5%91%BD%E4%BB%A4"}},[s._v("命令")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%E5%90%88%E5%B9%B6%E5%86%B2%E7%AA%81%E5%8F%8A%E8%A7%A3%E5%86%B3"}},[s._v("合并冲突及解决")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86%E7%AD%96%E7%95%A5"}},[s._v("分支管理策略")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#bug%E5%88%86%E6%94%AF"}},[s._v("Bug 分支")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#feature%E5%88%86%E6%94%AF"}},[s._v("feature 分支")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%E5%A4%9A%E4%BA%BA%E5%8D%8F%E4%BD%9C"}},[s._v("多人协作")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#rebase"}},[s._v("Rebase")])])])])]),s._v(" "),t("h2",{attrs:{id:"创建与合并分支"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建与合并分支"}},[s._v("#")]),s._v(" 创建与合并分支")]),s._v(" "),t("p",[s._v("每次提交，Git 都把它们串成一条时间线，这条时间线就是一个分支。在 Git 里，这个分支叫主分支，即"),t("code",[s._v("master")]),s._v("分支。"),t("code",[s._v("HEAD")]),s._v("严格来说不是指向提交，而是指向"),t("code",[s._v("master")]),s._v("，"),t("code",[s._v("master")]),s._v("才是指向提交的，所以，"),t("code",[s._v("HEAD")]),s._v("指向的就是当前分支。\n每次提交，"),t("code",[s._v("master")]),s._v("分支都会向前移动一步，这样，随着你不断提交，"),t("code",[s._v("master")]),s._v("分支的线也越来越长。")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://i.loli.net/2019/12/25/sc94h3xb86TiLFg.png",alt:"图片.png"}})]),s._v(" "),t("p",[s._v("当我们创建新的分支，例如 dev 时，Git 新建了一个指针叫 dev，指向 master 相同的提交，再把 HEAD 指向 dev，就表示当前分支在 dev 上：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://i.loli.net/2019/12/25/QxDk8ivVNZo3jFp.png",alt:"图片.png"}})]),s._v(" "),t("p",[t("strong",[s._v("举例")])]),s._v(" "),t("p",[s._v("首先，我们创建"),t("code",[s._v("dev")]),s._v("分支，然后切换到"),t("code",[s._v("dev")]),s._v("分支：")]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("$ git checkout "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("b dev\nSwitched to a "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" branch "),t("span",{pre:!0,attrs:{class:"token string-literal"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dev'")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("code",[s._v("git checkout")]),s._v("命令加上"),t("code",[s._v("-b")]),s._v("参数表示创建并切换，相当于以下两条命令:")]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("$ git branch dev\n$ git checkout dev\nSwitched to branch "),t("span",{pre:!0,attrs:{class:"token string-literal"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dev'")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("然后，用 git branch 命令查看当前分支(当前分支前有个*号)：")]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("$ git branch\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" dev\n  master\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("然后，我们就可以在 dev 分支上正常提交，比如对"),t("code",[s._v("readme.txt")]),s._v("做个修改，加上一行,然后提交.")]),s._v(" "),t("p",[s._v("切换回"),t("code",[s._v("master")]),s._v("分支,发现刚才修改的内容“没有生效”，这是因为那个提交是在"),t("code",[s._v("dev")]),s._v("分支上，而"),t("code",[s._v("master")]),s._v("分支此刻的提交点并没有变：")]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("$ git checkout master\nSwitched to branch "),t("span",{pre:!0,attrs:{class:"token string-literal"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'master'")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://i.loli.net/2019/12/25/8k3LTtsAHPnaSrR.png",alt:"图片.png"}})]),s._v(" "),t("p",[s._v("现在，我们把"),t("code",[s._v("dev")]),s._v("分支的工作成果合并到"),t("code",[s._v("master")]),s._v("分支上：")]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("$ git merge dev\nUpdating d46f35e"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("..")]),s._v("b17d20e\nFast"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("forward\nreadme"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" file changed"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" insertion"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[t("strong",[s._v("注：")]),t("code",[s._v("git merge")]),s._v("命令用于合并指定分支到当前分支。上面的"),t("code",[s._v("Fast-forward")]),s._v("信息，Git 告诉我们，这次合并是“快进模式”，也就是直接把"),t("code",[s._v("master")]),s._v("指向"),t("code",[s._v("dev")]),s._v("的当前提交，所以合并速度非常快。")]),s._v(" "),t("p",[s._v("合并完成后，就可以放心地删除 dev 分支了：")]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("$ git branch "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("d dev\nDeleted branch dev "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("was b17d20e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("创建并切换到新的"),t("code",[s._v("dev")]),s._v("分支，可以使用："),t("code",[s._v("git switch -c dev")]),s._v("\n直接切换到已有的"),t("code",[s._v("master")]),s._v("分支，可以使用："),t("code",[s._v("git switch master")])]),s._v(" "),t("h2",{attrs:{id:"命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#命令"}},[s._v("#")]),s._v(" 命令")]),s._v(" "),t("p",[s._v("查看分支："),t("code",[s._v("git branch")])]),s._v(" "),t("p",[s._v("创建分支："),t("code",[s._v("git branch <name>")])]),s._v(" "),t("p",[s._v("切换分支："),t("code",[s._v("git checkout <name>")]),s._v("或者"),t("code",[s._v("git switch <name>")])]),s._v(" "),t("p",[s._v("创建+切换分支："),t("code",[s._v("git checkout -b <name>")]),s._v("或者"),t("code",[s._v("git switch -c <name>")])]),s._v(" "),t("p",[s._v("合并某分支到当前分支："),t("code",[s._v("git merge <name>")])]),s._v(" "),t("p",[s._v("删除分支："),t("code",[s._v("git branch -d <name>")])]),s._v(" "),t("h2",{attrs:{id:"合并冲突及解决"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#合并冲突及解决"}},[s._v("#")]),s._v(" 合并冲突及解决")]),s._v(" "),t("p",[t("strong",[s._v("冲突：")])]),s._v(" "),t("ol",[t("li",[s._v("新建分支"),t("code",[s._v("dev")]),s._v("，切换到"),t("code",[s._v("dev")]),s._v("分支并且修改"),t("code",[s._v("a.txt")]),s._v("后"),t("code",[s._v("add")]),s._v("并"),t("code",[s._v("commit")])]),s._v(" "),t("li",[s._v("切换到"),t("code",[s._v("master")]),s._v("分支，修改"),t("code",[s._v("a.txt")]),s._v("后"),t("code",[s._v("add")]),s._v("并"),t("code",[s._v("commit")])]),s._v(" "),t("li",[s._v("尝试合并分支出现冲突！")])]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("$ git merge dev\nAuto"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("merging a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CONFLICT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("content"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Merge conflict "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt\nAutomatic merge failed"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" fix conflicts "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("and")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" commit the result"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://i.loli.net/2019/12/25/vEzZM8eDHqtFKAc.png",alt:"图片.png"}})]),s._v(" "),t("p",[t("strong",[s._v("解决方案")])]),s._v(" "),t("p",[s._v("Git 告诉我们，"),t("code",[s._v("a.txt")]),s._v("文件存在冲突，必须手动解决冲突后再提交。"),t("code",[s._v("git status")]),s._v("也可以告诉我们冲突的文件：")]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("$ git status\nOn branch master\nYour branch is ahead of "),t("span",{pre:!0,attrs:{class:"token string-literal"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'origin/master'")])]),s._v(" by "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" commits"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("use "),t("span",{pre:!0,attrs:{class:"token string-literal"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git push"')])]),s._v(" to publish your local commits"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nYou have unmerged paths"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fix conflicts "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("and")]),s._v(" run "),t("span",{pre:!0,attrs:{class:"token string-literal"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git commit"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("use "),t("span",{pre:!0,attrs:{class:"token string-literal"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git merge --abort"')])]),s._v(" to abort the merge"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nUnmerged paths"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("use "),t("span",{pre:!0,attrs:{class:"token string-literal"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git add <file>..."')])]),s._v(" to mark resolution"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n  both modified"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("   a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt\n\nno changes added to commit "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("use "),t("span",{pre:!0,attrs:{class:"token string-literal"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git add"')])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("and")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("or")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string-literal"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git commit -a"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("p",[s._v("再提交：")]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("$ git add a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt\n$ git commit "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("m "),t("span",{pre:!0,attrs:{class:"token string-literal"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"conflict fixed"')])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("master cf810e4"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" conflict fixed\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("合并过程如下图：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://i.loli.net/2019/12/25/my28wz5ZDQl1BaE.png",alt:"图片.png"}})]),s._v(" "),t("p",[s._v("用带参数的"),t("code",[s._v("git log")]),s._v("也可以看到分支的合并情况：")]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("$ git log "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("graph "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("pretty"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("oneline "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("abbrev"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("commit\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("   cf810e4 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HEAD")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" master"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" conflict fixed\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\\\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14096")]),s._v("d0 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("dev"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("AND")]),s._v(" simple\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("dc6824 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" simple\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" b17d20e branch test\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" d46f35e "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("origin"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("master"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" remove test"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" b84166e add test"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("519219")]),s._v("b git tracks changes\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" e43a48b understand how stage works\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1094")]),s._v("adb append "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("GPL")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" e475afc add distributed\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" eaadf4e wrote a readme file\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("p",[s._v("最后，删除"),t("code",[s._v("dev")]),s._v("分支：")]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("$ git branch "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("d dev\nDeleted branch dev "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("was "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14096")]),s._v("d0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"分支管理策略"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分支管理策略"}},[s._v("#")]),s._v(" 分支管理策略")]),s._v(" "),t("p",[s._v("通常，合并分支时，如果可能，Git 会用"),t("code",[s._v("Fast forward")]),s._v("模式，但这种模式下，删除分支后，会丢掉分支信息。")]),s._v(" "),t("p",[s._v("如果要强制禁用"),t("code",[s._v("Fast forward")]),s._v("模式，Git 就会在"),t("code",[s._v("merge")]),s._v("时生成一个新的 "),t("code",[s._v("commit")]),s._v("，这样，从分支历史上就可以看出分支信息")]),s._v(" "),t("p",[t("strong",[s._v("实战：")]),s._v(" 在"),t("code",[s._v("master")]),s._v("分支上合并"),t("code",[s._v("dev")]),s._v("分支:")]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("$ git merge "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("no"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("ff "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("m "),t("span",{pre:!0,attrs:{class:"token string-literal"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"merge with no-ff"')])]),s._v(" dev\nMerge made by the "),t("span",{pre:!0,attrs:{class:"token string-literal"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'recursive'")])]),s._v(" strategy"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\nreadme"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" file changed"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" insertion"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("合并后，我们用"),t("code",[s._v("git log")]),s._v("看看分支历史：")]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("$ git log "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("graph "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("pretty"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("oneline "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("abbrev"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("commit\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("   e1e9c68 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HEAD")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" master"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" merge with no"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("ff\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\\\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" f52c633 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("dev"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" add merge\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("   cf810e4 conflict fixed\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("不使用"),t("code",[s._v("Fast forward")]),s._v("模式，"),t("code",[s._v("merge")]),s._v("后就像这样：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://i.loli.net/2019/12/25/oe91AjiYupILNKf.png",alt:"图片.png"}})]),s._v(" "),t("p",[t("strong",[s._v("分支策略")]),s._v("\n实际开发中，首先，"),t("code",[s._v("master")]),s._v("分支应该是非常稳定的，也就是仅用来发布新版本，平时不能在上面干活；那在哪干活呢？干活都在"),t("code",[s._v("dev")]),s._v("分支上，也就是说，"),t("code",[s._v("dev")]),s._v("分支是不稳定的，到某个时候，比如 1.0 版本发布时，再把"),t("code",[s._v("dev")]),s._v("分支合并到"),t("code",[s._v("master")]),s._v("上，在"),t("code",[s._v("master")]),s._v("分支发布 1.0 版本；")]),s._v(" "),t("p",[s._v("你和你的小伙伴们每个人都在"),t("code",[s._v("dev")]),s._v("分支上干活，每个人都有自己的分支，时不时地往"),t("code",[s._v("dev")]),s._v("分支上合并就可以了。所以，团队合作的分支看起来就像这样：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://i.loli.net/2019/12/25/p5lmo2BnHqPLaOV.png",alt:"图片.png"}})]),s._v(" "),t("h2",{attrs:{id:"bug-分支"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#bug-分支"}},[s._v("#")]),s._v(" Bug 分支")]),s._v(" "),t("p",[s._v("修复"),t("code",[s._v("bug")]),s._v("时，我们会通过创建新的"),t("code",[s._v("bug")]),s._v("分支进行修复，然后合并，最后删除；")]),s._v(" "),t("p",[s._v("当手头工作没有完成时，先把工作现场"),t("code",[s._v("git stash")]),s._v("一下，然后去修复"),t("code",[s._v("bug")]),s._v("，修复后，再"),t("code",[s._v("git stash pop")]),s._v("，回到工作现场；")]),s._v(" "),t("p",[s._v("在"),t("code",[s._v("master")]),s._v("分支上修复的"),t("code",[s._v("bug")]),s._v("，想要合并到当前"),t("code",[s._v("dev")]),s._v("分支，可以用"),t("code",[s._v("git cherry-pick <commit>")]),s._v("命令，把"),t("code",[s._v("bug")]),s._v("提交的修改“复制”到当前分支，避免重复劳动。")]),s._v(" "),t("p",[t("strong",[s._v("举例：")])]),s._v(" "),t("p",[s._v("当你在"),t("code",[s._v("dev")]),s._v("分支工作时，有一个"),t("code",[s._v("bug")]),s._v("需要尽快解决，此时使用"),t("code",[s._v("git stash")]),s._v("保存工作现场，切换到"),t("code",[s._v("master")]),s._v("分支，创建新分支修复：")]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("$ git checkout master\nSwitched to branch "),t("span",{pre:!0,attrs:{class:"token string-literal"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'master'")])]),s._v("\nYour branch is ahead of "),t("span",{pre:!0,attrs:{class:"token string-literal"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'origin/master'")])]),s._v(" by "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" commits"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("use "),t("span",{pre:!0,attrs:{class:"token string-literal"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git push"')])]),s._v(" to publish your local commits"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n$ git checkout "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("b issue"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v("\nSwitched to a "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" branch "),t("span",{pre:!0,attrs:{class:"token string-literal"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'issue-101'")])]),s._v("\n\n$ git add readme"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt\n$ git commit "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("m "),t("span",{pre:!0,attrs:{class:"token string-literal"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fix bug 101"')])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("issue"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("c805e2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" fix bug "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" file changed"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" insertion"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" deletion"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("p",[s._v("再切换到"),t("code",[s._v("dev")]),s._v("分支。此时，用"),t("code",[s._v("git stash list")]),s._v("命令列出该分支下的所有工作现场：")]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("$ git stash list\nstash@"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("WIP")]),s._v(" on dev"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" f52c633 add merge\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("工作现场还在，"),t("code",[s._v("Git")]),s._v("把"),t("code",[s._v("stash")]),s._v("内容存在某个地方了，但是需要恢复一下，有两个办法：")]),s._v(" "),t("p",[s._v("一是用"),t("code",[s._v("git stash apply")]),s._v("或者"),t("code",[s._v("git stash apply stash@{0}")]),s._v("恢复，但是恢复后，"),t("code",[s._v("stash")]),s._v("内容并不删除，你需要用"),t("code",[s._v("git stash drop")]),s._v("来删除；")]),s._v(" "),t("p",[s._v("另一种方式是用"),t("code",[s._v("git stash pop")]),s._v("，恢复的同时把"),t("code",[s._v("stash")]),s._v("内容也删了.")]),s._v(" "),t("p",[s._v("修复完成后，因为"),t("code",[s._v("dev")]),s._v("分支是来源于"),t("code",[s._v("master")]),s._v("分支，所以，使用"),t("code",[s._v("git cherry-pick <提交的版本号>")]),s._v("命令，此处版本号为"),t("code",[s._v("4c805e2")]),s._v("，来使"),t("code",[s._v("dev")]),s._v("分支进行同样的提交，避免重复劳动。")]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("$ git cherry"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("pick "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("c805e2\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("master "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("d4b803"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" fix bug "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" file changed"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" insertion"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" deletion"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h2",{attrs:{id:"feature-分支"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#feature-分支"}},[s._v("#")]),s._v(" feature 分支")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("开发一个新 feature，最好新建一个分支；")])]),s._v(" "),t("li",[t("p",[s._v("如果要丢弃一个没有被合并过的分支，可以通过 git branch -D "),t("name",[s._v("强行删除。")])],1)])]),s._v(" "),t("p",[s._v("添加一个新功能时，你肯定不希望因为一些实验性质的代码，把主分支搞乱了，所以，每添加一个新功能，最好新建一个"),t("code",[s._v("feature")]),s._v("分支，在上面开发，完成后，合并，最后，删除该"),t("code",[s._v("feature")]),s._v("分支。")]),s._v(" "),t("p",[s._v("实例：")]),s._v(" "),t("ol",[t("li",[s._v("你接到了一个新任务：开发代号为 Vulcan 的新功能，该功能计划用于下一代星际飞船。")])]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("$ git switch "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("c feature"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vulcan\nSwitched to a "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" branch "),t("span",{pre:!0,attrs:{class:"token string-literal"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'feature-vulcan'")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("ol",{attrs:{start:"2"}},[t("li",[s._v("5 分钟后，开发完毕：")])]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("$ git add vulcan"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py\n\n$ git status\nOn branch feature"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vulcan\nChanges to be committed"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("use "),t("span",{pre:!0,attrs:{class:"token string-literal"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git reset HEAD <file>..."')])]),s._v(" to unstage"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" file"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("   vulcan"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py\n\n$ git commit "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("m "),t("span",{pre:!0,attrs:{class:"token string-literal"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"add feature vulcan"')])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("feature"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vulcan "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("287773")]),s._v("e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" add feature vulcan\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" file changed"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" insertions"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ncreate mode "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100644")]),s._v(" vulcan"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("ol",{attrs:{start:"3"}},[t("li",[s._v("切回 dev，准备合并,但是此时接到上级命令，因经费不足，新功能必须取消！虽然白干了，但是这个包含机密资料的分支还是必须就地销毁：")])]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("$ git switch dev\n\n$ git branch "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("d feature"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vulcan\n"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v("error")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" The branch "),t("span",{pre:!0,attrs:{class:"token string-literal"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'feature-vulcan'")])]),s._v(" is "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("not")]),s._v(" fully merged"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\nIf you are sure you want to delete it"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" run "),t("span",{pre:!0,attrs:{class:"token string-literal"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'git branch -D feature-vulcan'")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("ol",{attrs:{start:"4"}},[t("li",[s._v("销毁失败。Git 友情提醒，"),t("code",[s._v("feature-vulcan")]),s._v("分支还没有被合并，如果删除，将丢失掉修改，如果要强行删除，需要使用大写的"),t("code",[s._v("-D")]),s._v("参数。")])]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("$ git branch "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("D")]),s._v(" feature"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vulcan\nDeleted branch feature"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vulcan "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("was "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("287773")]),s._v("e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"多人协作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#多人协作"}},[s._v("#")]),s._v(" 多人协作")]),s._v(" "),t("p",[s._v("当你从远程仓库克隆时，实际上 Git 自动把本地的"),t("code",[s._v("master")]),s._v("分支和远程的"),t("code",[s._v("master")]),s._v("分支对应起来了，并且，远程仓库的默认名称是"),t("code",[s._v("origin")]),s._v("。")]),s._v(" "),t("p",[s._v("要查看远程库的信息，用"),t("code",[s._v("git remote")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("$ git remote\norigin\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("code",[s._v("git remote -v")]),s._v("查看更详细的信息：")]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("$ git remote "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("v\norigin  git"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@github")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":qujialin")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("learn"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("git "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fetch"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\norigin  git"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@github")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":qujialin")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("learn"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("git "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("push"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("上面显示了可以抓取和推送的 origin 的地址。如果没有推送权限，就看不到 push 的地址。")]),s._v(" "),t("p",[t("strong",[s._v("推送分支")])]),s._v(" "),t("p",[s._v("推送分支，就是把该分支上的所有本地提交推送到远程库。推送时，要指定本地分支，这样，Git 就会把该分支推送到远程库对应的远程分支上：")]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("$ git push origin master\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("如果要推送其他分支，比如"),t("code",[s._v("dev")]),s._v("，就改成：")]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("$ git push origin dev\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("strong",[s._v("抓取分支")])]),s._v(" "),t("p",[s._v("多人协作时，大家都会往"),t("code",[s._v("master")]),s._v("和"),t("code",[s._v("dev")]),s._v("分支上推送各自的修改。")]),s._v(" "),t("p",[s._v("创建远程"),t("code",[s._v("origin")]),s._v("的"),t("code",[s._v("dev")]),s._v("分支到本地：")]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("$ git checkout "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("b dev origin"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dev\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("你的小伙伴已经向"),t("code",[s._v("origin/dev")]),s._v("分支推送了他的提交，而碰巧你也对同样的文件作了修改，并试图推送：")]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("$ cat env"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt\nenv\n\n$ git add env"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt\n\n$ git commit "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("m "),t("span",{pre:!0,attrs:{class:"token string-literal"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"add new env"')])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("dev "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("bd91f1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" add "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" env\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" file changed"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" insertion"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ncreate mode "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100644")]),s._v(" env"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt\n\n$ git push origin dev\nTo github"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":michaelliao")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("learngit"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("git\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("rejected"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("        dev "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" dev "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("non"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("fast"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("forward"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v("error")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" failed to push some refs to "),t("span",{pre:!0,attrs:{class:"token string-literal"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'git@github.com:michaelliao/learngit.git'")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v("hint")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Updates were rejected because the tip of your current branch is behind\n"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v("hint")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" its remote counterpart"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" Integrate the remote changes "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("g"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v("hint")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string-literal"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'git pull ...'")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" before pushing again"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v("hint")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" See the "),t("span",{pre:!0,attrs:{class:"token string-literal"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Note about fast-forwards'")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string-literal"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'git push --help'")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" details"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br")])]),t("p",[s._v("推送失败，因为你的小伙伴的最新提交和你试图推送的提交有冲突，解决办法也很简单，Git 已经提示我们，先用"),t("code",[s._v("git pull")]),s._v("把最新的提交从"),t("code",[s._v("origin/dev")]),s._v("抓下来，然后，在本地合并，解决冲突，再推送：")]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("$ git pull\nThere is no tracking information "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" the current branch"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\nPlease specify which branch you want to merge with"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\nSee git"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("pull"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" details"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n\n    git pull "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("remote"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("branch"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\nIf you wish to set tracking information "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" this branch you can "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" so with"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n\n    git branch "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("set"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("upstream"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("to"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("origin"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("branch"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" dev\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[t("code",[s._v("git pull")]),s._v("也失败了，原因是没有指定本地"),t("code",[s._v("dev")]),s._v("分支与远程"),t("code",[s._v("origin/dev")]),s._v("分支的链接，根据提示，设置"),t("code",[s._v("dev")]),s._v("和"),t("code",[s._v("origin/dev")]),s._v("的链接：")]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("$ git branch "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("set"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("upstream"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("to"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("origin"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dev dev\nBranch "),t("span",{pre:!0,attrs:{class:"token string-literal"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dev'")])]),s._v(" set up to track remote branch "),t("span",{pre:!0,attrs:{class:"token string-literal"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dev'")])]),s._v(" from "),t("span",{pre:!0,attrs:{class:"token string-literal"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'origin'")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("再"),t("code",[s._v("pull")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("$ git pull\nAuto"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("merging env"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CONFLICT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("add"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("add"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Merge conflict "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" env"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt\nAutomatic merge failed"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" fix conflicts "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("and")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" commit the result"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("这回"),t("code",[s._v("git pull")]),s._v("成功，但是合并有冲突，需要手动解决，解决的方法和分支管理中的解决冲突完全一样。解决后，提交，再"),t("code",[s._v("push")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("$ git commit "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("m "),t("span",{pre:!0,attrs:{class:"token string-literal"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fix env conflict"')])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("dev "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("57")]),s._v("c53ab"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" fix env conflict\n\n$ git push origin dev\nCounting objects"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" done"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\nDelta compression using up to "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" threads"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\nCompressing objects"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" done"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\nWriting objects"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),t("span",{pre:!0,attrs:{class:"token regex-literal"}},[t("span",{pre:!0,attrs:{class:"token regex"}},[s._v("/6), 621 bytes | 621.00 KiB/s")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" done"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\nTotal "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("delta "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" reused "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("delta "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nTo github"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":michaelliao")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("learngit"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("git\n  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("a5e5dd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".57")]),s._v("c53ab  dev "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" dev\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("因此，多人协作的工作模式通常是这样：")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[s._v("  首先，可以试图用`git push origin <branch-name>`推送自己的修改；\n\n  如果推送失败，则因为远程分支比你的本地更新，需要先用`git pull`试图合并；\n\n  如果合并有冲突，则解决冲突，并在本地提交；\n\n  没有冲突或者解决掉冲突后，再用`git push origin <branch-name>`推送就能成功！\n")])])]),t("p",[s._v("如果"),t("code",[s._v("git pull")]),s._v("提示"),t("code",[s._v("no tracking information")]),s._v("，则说明本地分支和远程分支的链接关系没有创建，用命令"),t("code",[s._v("git branch --set-upstream-to <branch-name> origin/<branch-name>")]),s._v("。")]),s._v(" "),t("p",[s._v("这就是多人协作的工作模式，一旦熟悉了，就非常简单。")]),s._v(" "),t("h2",{attrs:{id:"rebase"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rebase"}},[s._v("#")]),s._v(" Rebase")]),s._v(" "),t("p",[s._v("在上一节我们看到了，多人在同一个分支上协作时，很容易出现冲突。即使没有冲突，后 push 的童鞋不得不先 pull，在本地合并，然后才能 push 成功。")]),s._v(" "),t("p",[s._v("每次合并再 push 后，分支变成了这样：")]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("$ git log "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("graph "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("pretty"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("oneline "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("abbrev"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("commit\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" d1be385 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HEAD")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" master"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" origin"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("master"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" init hello\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("   e5e69f1 Merge branch "),t("span",{pre:!0,attrs:{class:"token string-literal"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dev'")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\\\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("57")]),s._v("c53ab "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("origin"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dev"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" dev"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" fix env conflict\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\\\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("a5e5dd add env\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("bd91f1 add "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" env\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("a631b merged bug fix "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\\ \\\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("c805e2 fix bug "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token regex-literal"}},[t("span",{pre:!0,attrs:{class:"token regex"}},[s._v("/ /")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   e1e9c68 merge with no"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("ff\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\\ \\\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" f52c633 add merge\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("   cf810e4 conflict fixed\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br")])]),t("p",[s._v("总之看上去很乱，有强迫症的童鞋会问：为什么 Git 的提交历史不能是一条干净的直线？")]),s._v(" "),t("p",[s._v("其实是可以做到的！")]),s._v(" "),t("p",[s._v("Git 有一种称为"),t("code",[s._v("rebase")]),s._v("的操作，有人把它翻译成“变基”。输入"),t("code",[s._v("git rebase")])]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("$ git rebase\nFirst"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" rewinding head to replay your work on top of it"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v("Applying")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" add comment\nUsing index info to reconstruct a base tree"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("M")]),s._v("\thello"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py\nFalling back to patching base "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("and")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("way merge"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\nAuto"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("merging hello"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py\n"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v("Applying")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" add author\nUsing index info to reconstruct a base tree"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("M")]),s._v("\thello"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py\nFalling back to patching base "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("and")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("way merge"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\nAuto"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("merging hello"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("p",[s._v("此时用"),t("code",[s._v("git log")]),s._v("再看：")]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("$ git log "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("graph "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("pretty"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("oneline "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("abbrev"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("commit\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7e61")]),s._v("ed4 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HEAD")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" master"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" add author\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3611")]),s._v("cfe add comment\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" f005ed4 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("origin"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("master"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" set exit"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" d1be385 init hello\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("原本分叉的提交现在变成一条直线了！这种神奇的操作是怎么实现的？其实原理非常简单。我们注意观察，发现 Git 把我们本地的提交“挪动”了位置，放到了"),t("code",[s._v("f005ed4 (origin/master) set exit=1")]),s._v("之后，这样，整个提交历史就成了一条直线。rebase 操作前后，最终的提交内容是一致的，但是，我们本地的"),t("code",[s._v("commit")]),s._v("修改内容已经变化了，它们的修改不再基于"),t("code",[s._v("d1be385 init hello")]),s._v("，而是基于"),t("code",[s._v("f005ed4 (origin/master) set exit=1")]),s._v("，但最后的提交"),t("code",[s._v("7e61ed4")]),s._v("内容是一致的。")]),s._v(" "),t("p",[s._v("这就是"),t("code",[s._v("rebase")]),s._v("操作的特点：把分叉的提交历史“整理”成一条直线，看上去更直观。缺点是本地的分叉提交已经被修改过了。")]),s._v(" "),t("p",[s._v("最后，通过"),t("code",[s._v("push")]),s._v("操作把本地分支推送到远程：")]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("$ git push origin master\nCounting objects"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" done"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\nDelta compression using up to "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" threads"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\nCompressing objects"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" done"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\nWriting objects"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),t("span",{pre:!0,attrs:{class:"token regex-literal"}},[t("span",{pre:!0,attrs:{class:"token regex"}},[s._v("/6), 576 bytes | 576.00 KiB/s")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" done"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\nTotal "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("delta "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" reused "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("delta "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v("remote")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Resolving deltas"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" completed with "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" local object"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\nTo github"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":qujialin")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("Learn"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("git\n  f005ed4"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".7e61")]),s._v("ed4  master "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" master\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("p",[s._v("远程分支的提交历史也是一条直线。如下：")]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("$ git log "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("graph "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("pretty"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("oneline "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("abbrev"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("commit\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7e61")]),s._v("ed4 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HEAD")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" master"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" origin"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("master"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" add author\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3611")]),s._v("cfe add comment\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" f005ed4 set exit"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" d1be385 init hello\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("参考链接：")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://www.liaoxuefeng.com/wiki/896043488029600/900003767775424"}},[s._v("https://www.liaoxuefeng.com/wiki/896043488029600/900003767775424")])])])}),[],!1,null,null,null);t.default=n.exports}}]);